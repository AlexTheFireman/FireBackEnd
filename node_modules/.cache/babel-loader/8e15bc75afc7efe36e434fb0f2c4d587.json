{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Alex\\\\IdeaProjects\\\\FireFrontEnd\\\\src\\\\FilteredTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Table from \"./Table\";\nimport ReactSelect from \"./ReactSelect\";\nexport default function SimplestFilteredTable(props) {\n  _s();\n\n  const [fires, setFires] = useState([]);\n  const {\n    name,\n    fireStation,\n    message,\n    district,\n    destination,\n    whereWasTheFire,\n    rescueWorks,\n    fireChiefRank,\n    amountOfSmokeGroups,\n    extinguishingAgents,\n    usingHydrants,\n    locality,\n    fireRank\n  } = props.match.params;\n  const objectWithProperties = {\n    fireStation,\n    message,\n    district,\n    destination,\n    whereWasTheFire,\n    rescueWorks,\n    fireChiefRank,\n    amountOfSmokeGroups,\n    extinguishingAgents,\n    usingHydrants,\n    locality,\n    fireRank\n  };\n  const encoded = encodeURI(`/api/get/${name}`);\n  useEffect(api => {\n    if (checkProperties(objectWithProperties)) {\n      fetch(encoded, {\n        method: \"POST\",\n        body: JSON.stringify({\n          fireStation,\n          message,\n          district,\n          destination,\n          whereWasTheFire,\n          rescueWorks,\n          fireChiefRank,\n          amountOfSmokeGroups,\n          extinguishingAgents,\n          usingHydrants,\n          locality,\n          fireRank\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(data => {\n        setFires(data);\n      });\n      fetchTable({\n        setFires,\n        name\n      });\n    } else {\n      fetch(encoded).then(response => response.json()).then(data => {\n        setFires(data);\n      });\n    }\n  }, [name]);\n\n  const result = /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: [\"\\u0418\\u0442\\u043E\\u0433\\u043E \\u0432\\u044B\\u0435\\u0437\\u0434\\u043E\\u0432: \", fires.length]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 20\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box1\",\n        children: /*#__PURE__*/_jsxDEV(ReactSelect, {\n          onSubmit: state => fetchTable({\n            setFires,\n            name,\n            ...state\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box2\",\n        children: result\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-sm table-hover table-striped\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        fires: fires\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SimplestFilteredTable, \"m+hUmnw+PuO+99JSJPEe5WepFh0=\");\n\n_c = SimplestFilteredTable;\n\nconst fetchTable = ({\n  fireStation = \"\",\n  message = \"\",\n  district = \"\",\n  destination = \"\",\n  whereWasTheFire = \"\",\n  rescueWorks = \"\",\n  fireChiefRank = \"\",\n  amountOfSmokeGroups = \"\",\n  extinguishingAgents = \"\",\n  usingHydrants = \"\",\n  locality = \"\",\n  fireRank = \"\",\n  name,\n  setFires\n}) => {\n  const encoded = encodeURI(`/api/get/${name}`);\n  fetch(encoded, {\n    method: \"POST\",\n    body: JSON.stringify({\n      fireStation,\n      message,\n      district,\n      destination,\n      whereWasTheFire,\n      rescueWorks,\n      fireChiefRank,\n      amountOfSmokeGroups,\n      extinguishingAgents,\n      usingHydrants,\n      locality,\n      fireRank\n    }),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  }).then(response => response.json()).then(data => {\n    console.log(data.length);\n    setFires(data);\n  });\n};\n\nfunction checkProperties(obj) {\n  for (let key in obj) {\n    if (obj[key] !== null && obj[key] !== '') return false;\n  }\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"SimplestFilteredTable\");","map":{"version":3,"sources":["C:/Users/Alex/IdeaProjects/FireFrontEnd/src/FilteredTable.js"],"names":["React","useState","useEffect","Table","ReactSelect","SimplestFilteredTable","props","fires","setFires","name","fireStation","message","district","destination","whereWasTheFire","rescueWorks","fireChiefRank","amountOfSmokeGroups","extinguishingAgents","usingHydrants","locality","fireRank","match","params","objectWithProperties","encoded","encodeURI","api","checkProperties","fetch","method","body","JSON","stringify","headers","then","response","json","data","fetchTable","result","length","state","console","log","obj","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Table from \"./Table\";\nimport ReactSelect from \"./ReactSelect\";\n\nexport default function SimplestFilteredTable (props) {\n\n    const [fires, setFires] = useState ([]);\n    const { name, fireStation, message, district, destination, whereWasTheFire, rescueWorks,\n        fireChiefRank, amountOfSmokeGroups, extinguishingAgents, usingHydrants, locality,\n        fireRank }  = props.match.params;\n    const objectWithProperties = { fireStation, message, district, destination, whereWasTheFire, rescueWorks,\n        fireChiefRank, amountOfSmokeGroups, extinguishingAgents, usingHydrants, locality, fireRank };\n    const encoded = encodeURI(`/api/get/${name}`);\n    useEffect((api) => {\n        if (checkProperties(objectWithProperties)) {\n            fetch(encoded, {\n                method: \"POST\",\n                body: JSON.stringify({\n                    fireStation,\n                    message,\n                    district,\n                    destination,\n                    whereWasTheFire,\n                    rescueWorks,\n                    fireChiefRank,\n                    amountOfSmokeGroups,\n                    extinguishingAgents,\n                    usingHydrants,\n                    locality,\n                    fireRank\n                }),\n                headers: {\n                    \"Content-type\": \"application/json; charset=UTF-8\"\n                }\n            })\n                .then(response => response.json())\n                .then(data => {\n                    setFires(data);\n                });\n            fetchTable({setFires, name})\n        } else {\n            fetch(encoded)\n                .then(response => response.json())\n                .then(data => {\n                    setFires(data);\n                });\n        }\n    }, [name]);\n\n    const result = <h3>Итого выездов: {fires.length}</h3>;\n    return (\n        <>\n            <div className=\"box\">\n                <div className=\"box1\">\n                    <ReactSelect onSubmit={(state) => fetchTable({setFires, name, ...state})}/>\n                </div>\n                <div className=\"box2\" >\n                    {result}\n                </div>\n            </div>\n            <table className=\"table-sm table-hover table-striped\">\n                <Table fires = {fires}/>\n\n            </table>\n        </>\n    )\n}\n\nconst fetchTable = ({fireStation = \"\", message = \"\", district = \"\", destination = \"\", whereWasTheFire = \"\",\n                        rescueWorks = \"\", fireChiefRank = \"\", amountOfSmokeGroups = \"\",\n                        extinguishingAgents = \"\", usingHydrants = \"\", locality = \"\", fireRank = \"\",\n                        name, setFires}) => {\n    const encoded = encodeURI(`/api/get/${name}`);\n    fetch(encoded, {\n        method: \"POST\",\n        body: JSON.stringify({\n            fireStation,\n            message,\n            district,\n            destination,\n            whereWasTheFire,\n            rescueWorks,\n            fireChiefRank,\n            amountOfSmokeGroups,\n            extinguishingAgents,\n            usingHydrants,\n            locality,\n            fireRank\n        }),\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n    })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data.length);\n            setFires(data);\n        });\n\n}\n\nfunction checkProperties(obj) {\n    for(let key in obj){\n        if (obj[key] !== null && obj[key] !== '')\n            return false\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}