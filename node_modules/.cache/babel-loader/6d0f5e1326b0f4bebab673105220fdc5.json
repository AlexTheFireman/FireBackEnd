{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import TableHead from \"./TableHead\";\n// import TableBody from \"./TableBody\";\n// import Table from \"./Table\";\n// import ReactSelect from \"./ReactSelect\";\n//\n// export default function FilteredTable (props) {\n//\n//     const [fires, setFires] = useState ([]);\n//     const { name, fireStation, message, district, destination, whereWasTheFire }  = props.match.params;\n//     const objectWithProperties = { fireStation, message, district, destination, whereWasTheFire };\n//     const encoded = encodeURI(`/api/get/${name}`);\n//     useEffect((api) => {\n//         if (checkProperties(objectWithProperties)) {\n//             fetch(encoded, {\n//                 method: \"POST\",\n//                 body: JSON.stringify({\n//                     fireStation,\n//                     message,\n//                     district,\n//                     destination,\n//                     whereWasTheFire\n//                 }),\n//                 headers: {\n//                     \"Content-type\": \"application/json; charset=UTF-8\"\n//                 }\n//             })\n//                 .then(response => response.json())\n//                 .then(data => {\n//                     setFires(data);\n//                 });\n//             fetchTable({setFires, name})\n//         } else {\n//             fetch(encoded)\n//                 .then(response => response.json())\n//                 .then(data => {\n//                     setFires(data);\n//                 });\n//         }\n//     }, [name]);\n//\n//     const body = fires.map((fire, index) => <Table fire={fire} key={index} />);\n//     const result = <h3>Итого выездов: {fires.length}</h3>;\n//     return (\n//         <>\n//             <div class=\"box\">\n//                 <div class=\"box1\">\n//                     <ReactSelect onSubmit={(state) => fetchTable({setFires, name, ...state})}/>\n//                 </div>\n//                 <div class=\"box2\" >\n//                     {result}\n//                 </div>\n//             </div>\n//             <table className=\"table-sm table-hover table-striped\">\n//                 <TableHead class=\"head\" />\n//                 <tbody class=\"main\">\n//                     { body }\n//                 </tbody>\n//             </table>\n//         </>\n//     )\n// }\n//\n// const fetchTable = ({fireStation = \"\", message = \"\", district = \"\", destination = \"\", whereWasTheFire = \"\",\n//                         name, setFires}) => {\n//     const encoded = encodeURI(`/api/get/${name}`);\n//     fetch(encoded, {\n//         method: \"POST\",\n//         body: JSON.stringify({\n//             fireStation,\n//             message,\n//             district,\n//             destination,\n//             whereWasTheFire\n//         }),\n//         headers: {\n//             \"Content-type\": \"application/json; charset=UTF-8\"\n//         }\n//     })\n//         .then(response => response.json())\n//         .then(data => {\n//             console.log(data.length);\n//             setFires(data);\n//         });\n//\n// }\n//\n// function checkProperties(obj) {\n//     for(let key in obj){\n//         if (obj[key] !== null && obj[key] !== '')\n//             return false\n//     }\n// }","map":{"version":3,"sources":["C:/Users/Alex/IdeaProjects/FireFrontEnd/src/FilteredTable.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import TableHead from \"./TableHead\";\r\n// import TableBody from \"./TableBody\";\r\n// import Table from \"./Table\";\r\n// import ReactSelect from \"./ReactSelect\";\r\n//\r\n// export default function FilteredTable (props) {\r\n//\r\n//     const [fires, setFires] = useState ([]);\r\n//     const { name, fireStation, message, district, destination, whereWasTheFire }  = props.match.params;\r\n//     const objectWithProperties = { fireStation, message, district, destination, whereWasTheFire };\r\n//     const encoded = encodeURI(`/api/get/${name}`);\r\n//     useEffect((api) => {\r\n//         if (checkProperties(objectWithProperties)) {\r\n//             fetch(encoded, {\r\n//                 method: \"POST\",\r\n//                 body: JSON.stringify({\r\n//                     fireStation,\r\n//                     message,\r\n//                     district,\r\n//                     destination,\r\n//                     whereWasTheFire\r\n//                 }),\r\n//                 headers: {\r\n//                     \"Content-type\": \"application/json; charset=UTF-8\"\r\n//                 }\r\n//             })\r\n//                 .then(response => response.json())\r\n//                 .then(data => {\r\n//                     setFires(data);\r\n//                 });\r\n//             fetchTable({setFires, name})\r\n//         } else {\r\n//             fetch(encoded)\r\n//                 .then(response => response.json())\r\n//                 .then(data => {\r\n//                     setFires(data);\r\n//                 });\r\n//         }\r\n//     }, [name]);\r\n//\r\n//     const body = fires.map((fire, index) => <Table fire={fire} key={index} />);\r\n//     const result = <h3>Итого выездов: {fires.length}</h3>;\r\n//     return (\r\n//         <>\r\n//             <div class=\"box\">\r\n//                 <div class=\"box1\">\r\n//                     <ReactSelect onSubmit={(state) => fetchTable({setFires, name, ...state})}/>\r\n//                 </div>\r\n//                 <div class=\"box2\" >\r\n//                     {result}\r\n//                 </div>\r\n//             </div>\r\n//             <table className=\"table-sm table-hover table-striped\">\r\n//                 <TableHead class=\"head\" />\r\n//                 <tbody class=\"main\">\r\n//                     { body }\r\n//                 </tbody>\r\n//             </table>\r\n//         </>\r\n//     )\r\n// }\r\n//\r\n// const fetchTable = ({fireStation = \"\", message = \"\", district = \"\", destination = \"\", whereWasTheFire = \"\",\r\n//                         name, setFires}) => {\r\n//     const encoded = encodeURI(`/api/get/${name}`);\r\n//     fetch(encoded, {\r\n//         method: \"POST\",\r\n//         body: JSON.stringify({\r\n//             fireStation,\r\n//             message,\r\n//             district,\r\n//             destination,\r\n//             whereWasTheFire\r\n//         }),\r\n//         headers: {\r\n//             \"Content-type\": \"application/json; charset=UTF-8\"\r\n//         }\r\n//     })\r\n//         .then(response => response.json())\r\n//         .then(data => {\r\n//             console.log(data.length);\r\n//             setFires(data);\r\n//         });\r\n//\r\n// }\r\n//\r\n// function checkProperties(obj) {\r\n//     for(let key in obj){\r\n//         if (obj[key] !== null && obj[key] !== '')\r\n//             return false\r\n//     }\r\n// }\r\n\r\n"]},"metadata":{},"sourceType":"module"}