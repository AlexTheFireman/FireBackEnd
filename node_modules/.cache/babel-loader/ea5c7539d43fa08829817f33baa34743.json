{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\IdeaProjects\\\\FireFrontEnd\\\\src\\\\File.js\";\nimport React, { Component } from \"react\";\n\nclass File extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      responseFromServer: null\n    };\n\n    this.fileSelectedHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.fileUploadHandler = () => {\n      const formData = new FormData();\n      formData.append('file', this.state.selectedFile);\n      fetch(\"/api/upload\", {\n        method: 'POST',\n        body: formData\n      }).then(response => response.text()).then(response => this.setState({\n        responseFromServer: response\n      }));\n    };\n  }\n\n  render() {\n    const status = {\n      FILE_ALREADY_EXIST: \"Файл с таким именем уже существует в базе данных\",\n      SUCCESS: 'winter',\n      CHECK_FILE_EXTENSION: 'spring',\n      NO_FILE_SELECTED: 'autumn'\n    };\n    let warning;\n\n    switch (this.state.responseFromServer) {\n      case status.FILE_ALREADY_EXIST:\n        warning = /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 27\n          }\n        }, \"status.FILE_ALREADY_EXIST\");\n        break;\n\n      case status.SUCCESS:\n        warning = /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 27\n          }\n        }, \"\\u0424\\u0430\\u0439\\u043B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\");\n        break;\n\n      case status.CHECK_FILE_EXTENSION:\n        warning = /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 27\n          }\n        }, \"\\u041F\\u0440\\u0438\\u043D\\u0438\\u043C\\u0430\\u044E\\u0442\\u0441\\u044F \\u0444\\u0430\\u0439\\u043B\\u044B \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441 \\u0440\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u0435\\u043C \\\"xlsx\\\" \\u0438\\u043B\\u0438 \\\"xls\\\".\");\n        break;\n\n      case status.NO_FILE_SELECTED:\n        warning = /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 27\n          }\n        }, \"\\u0424\\u0430\\u0439\\u043B \\u043D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\");\n        break;\n\n      default:\n        break;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }\n    }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0444\\u0430\\u0439\\u043B:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.fileSelectedHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.fileUploadHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\")))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, warning));\n  }\n\n}\n\nexport default File;","map":{"version":3,"sources":["C:/Users/Alex/IdeaProjects/FireFrontEnd/src/File.js"],"names":["React","Component","File","constructor","props","state","selectedFile","responseFromServer","fileSelectedHandler","event","setState","target","files","fileUploadHandler","formData","FormData","append","fetch","method","body","then","response","text","render","status","FILE_ALREADY_EXIST","SUCCESS","CHECK_FILE_EXTENSION","NO_FILE_SELECTED","warning"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;AAEA,MAAMC,IAAN,SAAmBD,SAAnB,CAA6B;AACzBE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAInBC,KAJmB,GAIX;AACJC,MAAAA,YAAY,EAAE,IADV;AAEJC,MAAAA,kBAAkB,EAAE;AAFhB,KAJW;;AAAA,SASnBC,mBATmB,GASGC,KAAK,IAAI;AAC3B,WAAKC,QAAL,CAAc;AACVJ,QAAAA,YAAY,EAAEG,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AADJ,OAAd;AAGH,KAbkB;;AAAA,SAenBC,iBAfmB,GAeC,MAAM;AACtB,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB,KAAKX,KAAL,CAAWC,YAAnC;AACAW,MAAAA,KAAK,CAAC,aAAD,EAAgB;AACjBC,QAAAA,MAAM,EAAE,MADS;AAEjBC,QAAAA,IAAI,EAAEL;AAFW,OAAhB,CAAL,CAIKM,IAJL,CAIUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAJtB,EAKKF,IALL,CAKUC,QAAQ,IAAI,KAAKX,QAAL,CAAc;AAACH,QAAAA,kBAAkB,EAAEc;AAArB,OAAd,CALtB;AAOH,KAzBkB;AAElB;;AAyBDE,EAAAA,MAAM,GAAG;AACL,UAAMC,MAAM,GAAG;AACXC,MAAAA,kBAAkB,EAAE,kDADT;AAEXC,MAAAA,OAAO,EAAE,QAFE;AAGXC,MAAAA,oBAAoB,EAAE,QAHX;AAIXC,MAAAA,gBAAgB,EAAE;AAJP,KAAf;AAOA,QAAIC,OAAJ;;AAEA,YAAQ,KAAKxB,KAAL,CAAWE,kBAAnB;AACI,WAAKiB,MAAM,CAACC,kBAAZ;AACII,QAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAV;AACA;;AACJ,WAAKL,MAAM,CAACE,OAAZ;AACIG,QAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kIAAV;AACA;;AACJ,WAAKL,MAAM,CAACG,oBAAZ;AACIE,QAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mQAAV;AACA;;AACJ,WAAKL,MAAM,CAACI,gBAAZ;AACIC,QAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFAAV;AACA;;AACJ;AACI;AAdR;;AAgBQ,wBACI;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKrB,mBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAE,KAAKK,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEADJ,CAFJ,CALJ,CADJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKgB,OAAL,CAbJ,CADJ;AAiBP;;AAvEoB;;AA0E7B,eAAe3B,IAAf","sourcesContent":["import React, {Component} from \"react\";\n\nclass File extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    state = {\n        selectedFile: null,\n        responseFromServer: null\n    }\n\n    fileSelectedHandler = event => {\n        this.setState({\n            selectedFile: event.target.files[0]\n        })\n    }\n\n    fileUploadHandler = () => {\n        const formData = new FormData();\n        formData.append('file', this.state.selectedFile);\n        fetch(\"/api/upload\", {\n            method: 'POST',\n            body: formData\n        })\n            .then(response => response.text())\n            .then(response => this.setState({responseFromServer: response})\n            )\n    }\n\n    render() {\n        const status = {\n            FILE_ALREADY_EXIST: \"Файл с таким именем уже существует в базе данных\",\n            SUCCESS: 'winter',\n            CHECK_FILE_EXTENSION: 'spring',\n            NO_FILE_SELECTED: 'autumn'\n        };\n\n        let warning;\n\n        switch (this.state.responseFromServer) {\n            case status.FILE_ALREADY_EXIST:\n                warning = <h1>status.FILE_ALREADY_EXIST</h1>;\n                break;\n            case status.SUCCESS:\n                warning = <h1>Файл успешно загружен</h1>;\n                break;\n            case status.CHECK_FILE_EXTENSION:\n                warning = <h1>Принимаются файлы только с расширением \"xlsx\" или \"xls\".</h1>;\n                break;\n            case status.NO_FILE_SELECTED:\n                warning = <h1>Файл не выбран</h1>;\n                break;\n            default:\n                break;\n            }\n                return (\n                    <div align=\"center\">\n                        <table>\n                            <tr>\n                                <td>Выберите файл:</td>\n                                <td><input type=\"file\" onChange={this.fileSelectedHandler}/></td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n                                    <button onClick={this.fileUploadHandler}>Загрузить</button>\n                                </td>\n                            </tr>\n                        </table>\n                        <td>{warning}</td>\n                    </div>\n                );\n        }\n    }\n\nexport default File\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}