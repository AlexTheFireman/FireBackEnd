{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Alex\\\\IdeaProjects\\\\FireFrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from'react-router-dom';export default function FileList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];useEffect(function(api){fetch(\"/api/get/all\").then(function(response){return response.json();}).then(function(data){setFiles(data);});},[]);function deleteHandler(fileName){console.log('delete '+fileName);fetch(\"/api/delete/\".concat(fileName),{method:'DELETE'}).then(function(){fetch(\"/api/get/all\").then(function(response){return response.json();}).then(function(data){setFiles(data);});});};var body=files.map(function(fileName){return/*#__PURE__*/React.createElement(\"tr\",{key:fileName},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"box\"},/*#__PURE__*/React.createElement(Link,{class:\"listBox1\",to:\"/tables/\".concat(fileName)},fileName),/*#__PURE__*/React.createElement(\"button\",{className:\"listBox2 myButton deleteButton\",onClick:function onClick(){return deleteHandler(fileName);}},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"))));});return/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-sm table-hover table-striped\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-inverse\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"bordered\"},\"Files\"))),/*#__PURE__*/React.createElement(\"tbody\",null,body));}","map":{"version":3,"sources":["C:/Users/Alex/IdeaProjects/FireFrontEnd/src/FileList.js"],"names":["React","useState","useEffect","Link","FileList","files","setFiles","api","fetch","then","response","json","data","deleteHandler","fileName","console","log","method","body","map"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAqB,eACNH,QAAQ,CAAC,EAAD,CADF,wCACzBI,KADyB,eAClBC,QADkB,eAGhCJ,SAAS,CAAC,SAACK,GAAD,CAAS,CACfC,KAAK,CAAC,cAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVN,QAAQ,CAACM,IAAD,CAAR,CACH,CAJL,EAKH,CANQ,CAMN,EANM,CAAT,CAQA,QAASC,CAAAA,aAAT,CAAuBC,QAAvB,CAAiC,CAC7BC,OAAO,CAACC,GAAR,CAAY,UAAYF,QAAxB,EACAN,KAAK,uBAAgBM,QAAhB,EAA4B,CAC7BG,MAAM,CAAE,QADqB,CAA5B,CAAL,CAGGR,IAHH,CAGQ,UAAM,CACVD,KAAK,CAAC,cAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVN,QAAQ,CAACM,IAAD,CAAR,CACH,CAJL,EAKH,CATD,EAUH,EAED,GAAMM,CAAAA,IAAI,CAAGb,KAAK,CAACc,GAAN,CAAU,SAACL,QAAD,CAAc,CACjC,mBACI,0BAAI,GAAG,CAAEA,QAAT,eACI,2CACI,2BAAK,KAAK,CAAC,KAAX,eACI,oBAAC,IAAD,EAAM,KAAK,CAAC,UAAZ,CAAuB,EAAE,mBAAaA,QAAb,CAAzB,EAAmDA,QAAnD,CADJ,cAEI,8BAAQ,SAAS,CAAC,gCAAlB,CACQ,OAAO,CAAE,yBAAMD,CAAAA,aAAa,CAACC,QAAD,CAAnB,EADjB,+CAFJ,CADJ,CADJ,CADJ,CAUH,CAXY,CAAb,CAaA,mBACI,6BAAO,SAAS,CAAC,yDAAjB,eACI,6BAAO,SAAS,CAAC,eAAjB,eACA,2CACI,0BAAI,SAAS,CAAC,UAAd,UADJ,CADA,CADJ,cAMI,iCACKI,IADL,CANJ,CADJ,CAYH","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function FileList () {\r\n    const [files, setFiles] = useState([]);\r\n\r\n    useEffect((api) => {\r\n        fetch(\"/api/get/all\")\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFiles(data);\r\n            });\r\n    }, []);\r\n\r\n    function deleteHandler(fileName) {\r\n        console.log('delete ' + fileName);\r\n        fetch(`/api/delete/${fileName}`, {\r\n            method: 'DELETE',\r\n\r\n        }).then(() => {\r\n            fetch(\"/api/get/all\")\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFiles(data);\r\n                });\r\n        });\r\n    };\r\n\r\n    const body = files.map((fileName) => {\r\n        return (\r\n            <tr key={fileName}>\r\n                <td>\r\n                    <div class=\"box\">\r\n                        <Link class=\"listBox1\" to={`/tables/${fileName}`}>{fileName}</Link>\r\n                        <button className=\"listBox2 myButton deleteButton\"\r\n                                onClick={() => deleteHandler(fileName)}>Удалить</button>\r\n                    </div>\r\n                </td>\r\n            </tr>)\r\n    });\r\n\r\n    return (\r\n        <table className=\"table table-bordered table-sm table-hover table-striped\">\r\n            <thead className=\"thead-inverse\">\r\n            <tr>\r\n                <th className=\"bordered\">Files</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {body}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}