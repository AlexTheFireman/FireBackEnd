{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Alex/IdeaProjects/FireFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from'react-router-dom';export default function FileList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];useEffect(function(api){fetch(\"/api/get/all\").then(function(response){return response.json();}).then(function(data){setFiles(data);});},[]);function deleteHandler(fileName){console.log('delete '+fileName);fetch(\"/api/delete/\".concat(fileName),{method:'DELETE'}).then(function(){fetch(\"/api/get/all\").then(function(response){return response.json();}).then(function(data){setFiles(data);});});};var body=files.map(function(fileName){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"box\",children:[/*#__PURE__*/_jsx(Link,{class:\"listBox1\",to:\"/tables/\".concat(fileName),children:fileName}),/*#__PURE__*/_jsx(\"button\",{className:\"listBox2 myButton deleteButton\",onClick:function onClick(){return deleteHandler(fileName);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})})},fileName);});return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-sm table-hover table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-inverse\",children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:\"bordered\",children:\"Files\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:body})]});}","map":{"version":3,"sources":["C:/Users/Alex/IdeaProjects/FireFrontEnd/src/FileList.js"],"names":["React","useState","useEffect","Link","FileList","files","setFiles","api","fetch","then","response","json","data","deleteHandler","fileName","console","log","method","body","map"],"mappings":"sPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAqB,eACNH,QAAQ,CAAC,EAAD,CADF,wCACzBI,KADyB,eAClBC,QADkB,eAGhCJ,SAAS,CAAC,SAACK,GAAD,CAAS,CACfC,KAAK,CAAC,cAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVN,QAAQ,CAACM,IAAD,CAAR,CACH,CAJL,EAKH,CANQ,CAMN,EANM,CAAT,CAQA,QAASC,CAAAA,aAAT,CAAuBC,QAAvB,CAAiC,CAC7BC,OAAO,CAACC,GAAR,CAAY,UAAYF,QAAxB,EACAN,KAAK,uBAAgBM,QAAhB,EAA4B,CAC7BG,MAAM,CAAE,QADqB,CAA5B,CAAL,CAGGR,IAHH,CAGQ,UAAM,CACVD,KAAK,CAAC,cAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVN,QAAQ,CAACM,IAAD,CAAR,CACH,CAJL,EAKH,CATD,EAUH,EAED,GAAMM,CAAAA,IAAI,CAAGb,KAAK,CAACc,GAAN,CAAU,SAACL,QAAD,CAAc,CACjC,mBACI,iCACI,iCACI,aAAK,KAAK,CAAC,KAAX,wBACI,KAAC,IAAD,EAAM,KAAK,CAAC,UAAZ,CAAuB,EAAE,mBAAaA,QAAb,CAAzB,UAAmDA,QAAnD,EADJ,cAEI,eAAQ,SAAS,CAAC,gCAAlB,CACQ,OAAO,CAAE,yBAAMD,CAAAA,aAAa,CAACC,QAAD,CAAnB,EADjB,wDAFJ,GADJ,EADJ,EAASA,QAAT,CADJ,CAUH,CAXY,CAAb,CAaA,mBACI,eAAO,SAAS,CAAC,yDAAjB,wBACI,cAAO,SAAS,CAAC,eAAjB,uBACA,iCACI,WAAI,SAAS,CAAC,UAAd,mBADJ,EADA,EADJ,cAMI,uBACKI,IADL,EANJ,GADJ,CAYH","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function FileList () {\r\n    const [files, setFiles] = useState([]);\r\n\r\n    useEffect((api) => {\r\n        fetch(\"/api/get/all\")\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFiles(data);\r\n            });\r\n    }, []);\r\n\r\n    function deleteHandler(fileName) {\r\n        console.log('delete ' + fileName);\r\n        fetch(`/api/delete/${fileName}`, {\r\n            method: 'DELETE',\r\n\r\n        }).then(() => {\r\n            fetch(\"/api/get/all\")\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFiles(data);\r\n                });\r\n        });\r\n    };\r\n\r\n    const body = files.map((fileName) => {\r\n        return (\r\n            <tr key={fileName}>\r\n                <td>\r\n                    <div class=\"box\">\r\n                        <Link class=\"listBox1\" to={`/tables/${fileName}`}>{fileName}</Link>\r\n                        <button className=\"listBox2 myButton deleteButton\"\r\n                                onClick={() => deleteHandler(fileName)}>Удалить</button>\r\n                    </div>\r\n                </td>\r\n            </tr>)\r\n    });\r\n\r\n    return (\r\n        <table className=\"table table-bordered table-sm table-hover table-striped\">\r\n            <thead className=\"thead-inverse\">\r\n            <tr>\r\n                <th className=\"bordered\">Files</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {body}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}